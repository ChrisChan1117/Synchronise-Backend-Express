var Client   = require('../src').Client;
var clearbit = new Client();

clearbit.Person.find({email: 'lachy@stripe.com'})
  .then(function (person) {
    console.log('Name: ', person.name.fullName);
  })
  .catch(clearbit.Person.QueuedError, function (err) {
    console.log(err); // Person is queued
  })
  .catch(clearbit.Person.NotFoundError, function (err) {
    console.log(err); // Person could not be found
  })
  .catch(function (err) {
    console.log(err);
    console.log('Bad/invalid request, unauthorized, Clearbit error, or failed request');
  });


var Company = clearbit.Company;

Company.find({domain: 'stripe.com', stream: true})
  .then(function (company) {
    console.log(company.name);
  })
  .catch(Company.QueuedError, function (err) {
    console.log(err); // Company is queued
  })
  .catch(Company.NotFoundError, function (err) {
    console.log(err); // Company could not be found
  })
  .catch(function (err) {
    console.log(err);
    console.log('Bad/invalid request, unauthorized, Clearbit error, or failed request');
  });
